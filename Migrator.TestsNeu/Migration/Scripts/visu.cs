using System.Data;
using Migrator.Framework;

	[Migration(1)]
	public class SchemaDump : Migration
	{
	public override void Up()
	{
		Database.AddTable("VISU_TagScriptTrigger",new Column("Id",DbType.Guid,ColumnProperty.NotNull | ColumnProperty.Unsigned),new Column("TagId",DbType.Guid,ColumnProperty.NotNull),new Column("Script",DbType.String,255,ColumnProperty.NotNull),new Column("ModifiedTimeStamp",DbType.Date,ColumnProperty.NotNull),new Column("CreatedTimeStamp",DbType.Date,ColumnProperty.NotNull));
		Database.AddPrimaryKeyNonClustered("PK__VISU_Tag__3214EC07BFB93AD5","VISU_TagScriptTrigger",new string[]{"Id"});
		Database.AddTable("VISU_PLCProtocol",new Column("Id",DbType.Int64,19,ColumnProperty.PrimaryKeyWithIdentity | ColumnProperty.NotNull | ColumnProperty.Unsigned),new Column("ConnectionName",DbType.String,255,ColumnProperty.NotNull),new Column("DateTime",DbType.Date,ColumnProperty.NotNull),new Column("Data",DbType.String,1024,ColumnProperty.NotNull),new Column("TelegramDirection",DbType.Int32,10,ColumnProperty.NotNull),new Column("FormatId",DbType.Guid,ColumnProperty.Null));
		Database.AddTable("VISU_PLCProtocolFormat",new Column("Id",DbType.Guid,ColumnProperty.NotNull | ColumnProperty.Unsigned),new Column("Format",DbType.String,255,ColumnProperty.NotNull));
		Database.AddPrimaryKeyNonClustered("PK__VISU_PLC__3214EC07922CA681","VISU_PLCProtocolFormat",new string[]{"Id"});
		Database.AddTable("VISU_Connections",new Column("Id",DbType.Guid,ColumnProperty.NotNull | ColumnProperty.Unsigned),new Column("Name",DbType.String,255,ColumnProperty.NotNull),new Column("ConnectionType",DbType.String,255,ColumnProperty.NotNull),new Column("Active",DbType.Boolean,ColumnProperty.NotNull,"0"),new Column("ConnectionConfig",DbType.String,255,ColumnProperty.Null),new Column("SetPlcTime",DbType.Boolean,ColumnProperty.NotNull,"1"),new Column("ReadOnly",DbType.Boolean,ColumnProperty.NotNull,"0"),new Column("DisableRunningCheck",DbType.Boolean,ColumnProperty.NotNull,"0"),new Column("DisTagsAvailCheck",DbType.Boolean,ColumnProperty.NotNull,"0"),new Column("ErrorMessagesIP",DbType.String,255,ColumnProperty.Null),new Column("ErrorMessagesPort",DbType.String,10,ColumnProperty.Null),new Column("ErrorMessagesLanguages",DbType.String,10,ColumnProperty.Null),new Column("ErrorMessagesTimezone",DbType.String,255,ColumnProperty.Null),new Column("ErrorMessagesElementNameRegex",DbType.String,255,ColumnProperty.Null),new Column("MessageAddtionalTags",DbType.String,255,ColumnProperty.Null),new Column("SynchronizeTagsPrefix",DbType.String,255,ColumnProperty.Null),new Column("ConverterDictionaryName",DbType.String,255,ColumnProperty.Null),new Column("ErrorMessagesScreenName",DbType.String,255,ColumnProperty.Null),new Column("ErrorMessagesTagRoot",DbType.String,255,ColumnProperty.Null),new Column("ErrorMessagesLocation",DbType.String,255,ColumnProperty.Null),new Column("MessageKeyRegex",DbType.String,255,ColumnProperty.Null),new Column("MessageKeyRegexResult",DbType.String,255,ColumnProperty.Null));
		Database.AddIndex("VISU_Connections",new Index() {Name = "UQ__VISU_Con__737584F6522E04EE",Clustered = false, KeyColumns=new []{"Name"}, IncludeColumns=new string[]{}, Unique=true, UniqueConstraint=false});
		Database.AddPrimaryKeyNonClustered("PK__VISU_Con__3214EC07A329EF49","VISU_Connections",new string[]{"Id"});
		Database.AddTable("VISU_OperatingCounters",new Column("Id",DbType.Guid,ColumnProperty.NotNull | ColumnProperty.Unsigned),new Column("TagId",DbType.Guid,ColumnProperty.NotNull),new Column("TagValue",DbType.Decimal,5,ColumnProperty.NotNull),new Column("ModifiedTimeStamp",DbType.Date,ColumnProperty.NotNull),new Column("CreatedTimeStamp",DbType.Date,ColumnProperty.NotNull));
		Database.AddPrimaryKeyNonClustered("PK__VISU_Ope__3214EC073764A995","VISU_OperatingCounters",new string[]{"Id"});
		Database.AddTable("VISU_Tags",new Column("Id",DbType.Guid,ColumnProperty.NotNull | ColumnProperty.Unsigned),new Column("Name",DbType.String,255,ColumnProperty.NotNull),new Column("PlcTagDataType",DbType.Int32,10,ColumnProperty.NotNull),new Column("TagType",DbType.Int32,10,ColumnProperty.NotNull),new Column("Address",DbType.String,255,ColumnProperty.Null),new Column("Description",DbType.String,255,ColumnProperty.Null),new Column("ConnectionId",DbType.Guid,ColumnProperty.Null),new Column("RefreshTime",DbType.Int64,19,ColumnProperty.Null),new Column("Size",DbType.Int32,10,ColumnProperty.NotNull,"0"),new Column("SymbolicName",DbType.String,1024,ColumnProperty.Null),new Column("ItemDontExist",DbType.Boolean,ColumnProperty.NotNull,"0"),new Column("Scale",DbType.Boolean,ColumnProperty.NotNull,"0"),new Column("ScaleSourceMin",DbType.Double,53,ColumnProperty.NotNull,"0"),new Column("ScaleSourceMax",DbType.Double,53,ColumnProperty.NotNull,"100"),new Column("ScaleMin",DbType.Double,53,ColumnProperty.NotNull,"0"),new Column("ScaleMax",DbType.Double,53,ColumnProperty.NotNull,"100"),new Column("IndexerTag",DbType.String,255,ColumnProperty.Null),new Column("ManualWrite",DbType.Boolean,ColumnProperty.NotNull,"0"),new Column("GroupName",DbType.String,255,ColumnProperty.Null),new Column("ClearValueOnRegistration",DbType.Boolean,ColumnProperty.NotNull,"0"),new Column("StringValueFillChar",DbType.String,1,ColumnProperty.Null),new Column("ServerOnlyTag",DbType.Boolean,ColumnProperty.NotNull,"0"),new Column("ConstantValue",DbType.String,255,ColumnProperty.Null),new Column("ScriptedTagScript",DbType.String,255,ColumnProperty.Null),new Column("ServerValueChangedScript",DbType.String,255,ColumnProperty.Null),new Column("ValueChangedScript",DbType.String,255,ColumnProperty.Null),new Column("ReferencedTags",DbType.String,255,ColumnProperty.Null),new Column("OrderIndex",DbType.Int32,10,ColumnProperty.NotNull,"0"),new Column("TextListName",DbType.String,50,ColumnProperty.Null),new Column("DisableUserCommentOnWrite",DbType.Boolean,ColumnProperty.NotNull,"0"),new Column("RequiredWriteRole",DbType.String,255,ColumnProperty.Null),new Column("WriteTagScript",DbType.String,255,ColumnProperty.Null),new Column("MinValue",DbType.String,255,ColumnProperty.Null),new Column("MaxValue",DbType.String,255,ColumnProperty.Null),new Column("ArchiveTimeSpan",DbType.Int64,19,ColumnProperty.Null),new Column("NoMessageEventOnWrite",DbType.Boolean,ColumnProperty.NotNull,"0"),new Column("TagStringFormat",DbType.String,255,ColumnProperty.Null),new Column("ManualModified",DbType.Boolean,ColumnProperty.NotNull,"0"),new Column("DescriptionNeededInUI",DbType.Boolean,ColumnProperty.NotNull,"0"),new Column("ArchiveMode",DbType.Int32,10,ColumnProperty.NotNull,"0"),new Column("ValidationRegex",DbType.String,2000,ColumnProperty.Null),new Column("ValidationRegexMessage",DbType.String,255,ColumnProperty.Null),new Column("ReadMode",DbType.Int32,10,ColumnProperty.NotNull,"0"),new Column("ValueFormat",DbType.Int32,10,ColumnProperty.NotNull,"0"),new Column("ValueFormatConfig",DbType.String,2000,ColumnProperty.Null),new Column("OperatingCounter",DbType.Int64,19,ColumnProperty.NotNull,"0"),new Column("NoRevertValueChangeOnWrite",DbType.Boolean,ColumnProperty.NotNull,"0"),new Column("TagDataType",DbType.Int32,10,ColumnProperty.NotNull,"0"),new Column("ClearReferencedTagAfterTrigger",DbType.Boolean,ColumnProperty.NotNull,"0"),new Column("ReferenceRegEx",DbType.String,255,ColumnProperty.Null));
		Database.AddIndex("VISU_Tags",new Index() {Name = "UQ__VISU_Tag__737584F6D7A17EA9",Clustered = false, KeyColumns=new []{"Name"}, IncludeColumns=new string[]{}, Unique=true, UniqueConstraint=false});
		Database.AddPrimaryKeyNonClustered("PK__VISU_Tag__3214EC078CD893C2","VISU_Tags",new string[]{"Id"});
		Database.AddTable("VISU_TagsArchive",new Column("Id",DbType.Guid,ColumnProperty.NotNull | ColumnProperty.Unsigned),new Column("TagId",DbType.Guid,ColumnProperty.NotNull),new Column("TagValue",DbType.Decimal,5,ColumnProperty.NotNull),new Column("ModifiedTimeStamp",DbType.Date,ColumnProperty.NotNull));
		Database.AddIndex("VISU_TagsArchive",new Index() {Name = "Idx_ArichiveTagId",Clustered = false, KeyColumns=new []{"TagId"}, IncludeColumns=new string[]{}, Unique=false, UniqueConstraint=false});
		Database.AddIndex("VISU_TagsArchive",new Index() {Name = "IdxTagIdModifiedTime",Clustered = false, KeyColumns=new []{"TagId","ModifiedTimeStamp"}, IncludeColumns=new string[]{}, Unique=false, UniqueConstraint=false});
		Database.AddPrimaryKeyNonClustered("PK__VISU_Ope__3214EC07404FEA69","VISU_TagsArchive",new string[]{"Id"});
		Database.AddTable("VISU_Archive_Config",new Column("Id",DbType.Guid,ColumnProperty.NotNull | ColumnProperty.Unsigned),new Column("Name",DbType.String,255,ColumnProperty.NotNull),new Column("ModifiedTimeStamp",DbType.Date,ColumnProperty.NotNull),new Column("CreatedTimeStamp",DbType.Date,ColumnProperty.NotNull),new Column("Active",DbType.Boolean,ColumnProperty.NotNull,"0"));
		Database.AddIndex("VISU_Archive_Config",new Index() {Name = "UQ__VISU_Arc__737584F675B1EA44",Clustered = false, KeyColumns=new []{"Name"}, IncludeColumns=new string[]{}, Unique=true, UniqueConstraint=false});
		Database.AddPrimaryKeyNonClustered("PK__VISU_Arc__3214EC075EA67F41","VISU_Archive_Config",new string[]{"Id"});
		Database.AddTable("VISU_Messages",new Column("Id",DbType.Guid,ColumnProperty.NotNull | ColumnProperty.Unsigned),new Column("TriggerTagId",DbType.Guid,ColumnProperty.NotNull),new Column("TriggerBit",DbType.Int16,5,ColumnProperty.NotNull,"0"),new Column("ConfirmTagId",DbType.Guid,ColumnProperty.Null),new Column("ConfirmBit",DbType.Int16,5,ColumnProperty.NotNull,"0"),new Column("ConfirmTagToPLCId",DbType.Guid,ColumnProperty.Null),new Column("ConfirmBitToPLC",DbType.Int16,5,ColumnProperty.NotNull,"0"),new Column("MessageTriggerType",DbType.Int32,10,ColumnProperty.NotNull,"0"),new Column("CompareValue",DbType.String,2000,ColumnProperty.Null),new Column("AdditionalTags",DbType.String,255,ColumnProperty.Null),new Column("ManualModified",DbType.Boolean,ColumnProperty.NotNull,"0"));
		Database.AddPrimaryKeyNonClustered("PK__VISU_Mes__3214EC0783FE02A5","VISU_Messages",new string[]{"Id"});
		Database.AddTable("VISU_Archive_Data",new Column("Id",DbType.Guid,ColumnProperty.NotNull | ColumnProperty.Unsigned),new Column("ArchiveId",DbType.Guid,ColumnProperty.NotNull),new Column("ArchiveElementId",DbType.Guid,ColumnProperty.NotNull),new Column("CreatedTimeStamp",DbType.Date,ColumnProperty.NotNull),new Column("Value",DbType.String,255,ColumnProperty.Null),new Column("ArchiveTimeStamp",DbType.Date,ColumnProperty.NotNull),new Column("ValueDecimal",DbType.Decimal,5,ColumnProperty.Null));
		Database.AddPrimaryKeyNonClustered("PK__VISU_Arc__3214EC07F703186A","VISU_Archive_Data",new string[]{"Id"});
		Database.AddTable("VISU_Archive_Elements",new Column("Id",DbType.Guid,ColumnProperty.NotNull | ColumnProperty.Unsigned),new Column("ArchiveId",DbType.Guid,ColumnProperty.NotNull),new Column("Name",DbType.String,255,ColumnProperty.NotNull),new Column("ArchiveElementType",DbType.Int32,10,ColumnProperty.NotNull),new Column("Value",DbType.String,255,ColumnProperty.Null),new Column("ModifiedTimeStamp",DbType.Date,ColumnProperty.NotNull),new Column("CreatedTimeStamp",DbType.Date,ColumnProperty.NotNull),new Column("TagId",DbType.Guid,ColumnProperty.Null));
		Database.AddPrimaryKeyNonClustered("PK__VISU_Arc__3214EC075591AA4A","VISU_Archive_Elements",new string[]{"Id"});
		Database.AddTable("VISU_Archive_Trigger",new Column("Id",DbType.Guid,ColumnProperty.NotNull | ColumnProperty.Unsigned),new Column("ArchiveId",DbType.Guid,ColumnProperty.NotNull),new Column("TriggerType",DbType.Int32,10,ColumnProperty.NotNull),new Column("TriggerConfig",DbType.String,255,ColumnProperty.Null),new Column("ModifiedTimeStamp",DbType.Date,ColumnProperty.NotNull),new Column("CreatedTimeStamp",DbType.Date,ColumnProperty.NotNull),new Column("Active",DbType.Boolean,ColumnProperty.NotNull,"0"));
		Database.AddPrimaryKeyNonClustered("PK__VISU_Arc__3214EC07F47CDC39","VISU_Archive_Trigger",new string[]{"Id"});
		Database.AddForeignKey("FK_VISU_Tags_ConnectionId", "VISU_Tags", new []{"ConnectionId"}, "VISU_Connections", new []{"Id"});
	}
	public override void Down(){}
}
